<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic "><meta name=description content><link rel=alternate hreflang=en-us href=https://www.brainhack.org/global2024/project/project_2/><meta name=theme-color content="#66a49f"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/dracula.min.css crossorigin=anonymous title=hl-dark disabled><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.css integrity="sha512-1xoFisiGdy9nvho8EgXuXvnpR5GAMSjFwp40gSRE3NwdUdIMIKuPa7bqoUhLD0O/5tPNhteAsE5XyyMi5reQVA==" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js integrity="sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==" crossorigin=anonymous async></script>
<link rel=stylesheet href=/global2024/css/academic.css><link rel=manifest href=/global2024/index.webmanifest><link rel=icon type=image/png href=/global2024/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/global2024/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_192x192_fill_lanczos_center_3.png><link rel=canonical href=https://www.brainhack.org/global2024/project/project_2/><meta property="twitter:card" content="summary"><meta property="twitter:site" content="@brainhackorg"><meta property="twitter:creator" content="@brainhackorg"><meta property="og:site_name" content="Brainhack Global 2024"><meta property="og:url" content="https://www.brainhack.org/global2024/project/project_2/"><meta property="og:title" content="MRI denoising using MP-PCA | Brainhack Global 2024"><meta property="og:description" content><meta property="og:image" content="https://www.brainhack.org/global2024/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_512x512_fill_lanczos_center_3.png"><meta property="twitter:image" content="https://www.brainhack.org/global2024/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_512x512_fill_lanczos_center_3.png"><meta property="og:locale" content="en-us"><meta property="article:modified_time" content="2024-10-29T03:16:04+00:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.brainhack.org/global2024/project/project_2/"},"headline":"MRI denoising using MP-PCA","datePublished":"0001-01-01T00:00:00Z","dateModified":"2024-10-29T03:16:04Z","author":{"@type":"Person","name":"Authors"},"publisher":{"@type":"Organization","name":"Brainhack Global 2024","logo":{"@type":"ImageObject","url":"https://www.brainhack.org/global2024/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_192x192_fill_lanczos_center_3.png"}},"description":""}</script><title>MRI denoising using MP-PCA | Brainhack Global 2024</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><script>const isSiteThemeDark=!1</script><script src=/global2024/js/load-theme.js></script><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Brainhack Global 2024</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Brainhack Global 2024</a></div><div class="navbar-collapse main-menu-item collapse justify-content-center" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/global2024/><i class='fas fa-brain'></i><span>&nbsp; Home</span></a></li><li class=nav-item><a class=nav-link href=/global2024/events/><i class='fas fa-search-location'></i><span>&nbsp; Events</span></a></li><li class=nav-item><a class=nav-link href=/global2024/projects/><i class='fas fa-laptop'></i><span>&nbsp; Projects</span></a></li><li class=nav-item><a class=nav-link href=/global2024/gallery><i class='fas fa-brush'></i><span>&nbsp; Gallery</span></a></li><li class=nav-item><a class=nav-link href=/global2024/faq/><i class='fas fa-question'></i><span>&nbsp; FAQ</span></a></li><li class=nav-item><a class=nav-link href=https://brainhack.org/code-of-conduct target=_blank rel=noopener><span>Code of Conduct</span></a></li><li class=nav-item><a class=nav-link href=/global2024/#team><span>Team</span></a></li><li class=nav-item><a class=nav-link href=/global2024/#contact><span>Contact</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"></ul></div></nav><div class=pub><div class="article-container pt-3"><h1>MRI denoising using MP-PCA</h1><div class=article-metadata><span class=article-date>Last updated on
Oct 29, 2024</span></div></div><div class=article-container><h3 id=title>Title</h3><p>Improving MP-PCA denoising of diffusion and functional MRI data using MP-PCA</p><h3 id=leaders>Leaders</h3><p>Robert E. Smith; <a href=http://x.com/Lestropie target=_blank rel=noopener>http://x.com/Lestropie</a></p><h3 id=collaborators>Collaborators</h3><p><em>No response</em></p><h3 id=brainhack-global-2024-event>Brainhack Global 2024 Event</h3><p>Brainhack Aus</p><h3 id=project-description>Project Description</h3><p>Denoising of EPI MRI data has become a common component of MRI pre-processing pipelines. It is most prevalent in the pre-processing of diffusion MRI data given its low signal magnitude, but it is also becoming increasingly prevalent for functional MRI pre-processing.</p><p>The <em>MRtrix3</em> software provides a command <code>dwidenoise</code> for this purpose. This is a sliding-window approach, where processing for each voxel is performed based on data in a local spatial neighbourhood, exploiting the density of EPI data across multiple volumes. After performing a Principal Component Analysis (PCA) decomposition for the data across DWI volumes within that window, it determines the appropriate cutoff for which components to retain vs. remove based on the Marchenko-Pastur distribution, which predicts the distribution of eigenvalues for random matrices. By doing so it intends to retain the useful signal present in that location, but remove those components that manifest from the thermal noise of the imaging process.</p><p>While currently in wide use, there are many prospective enhancements that could be made to this command to improve the quality of denoising. The goal of this project is to address features with strong prospects for improving performance that are achievable within the short time frame of a Hackathon.</p><h3 id=link-to-project-repositorysources>Link to project repository/sources</h3><p><code>dwidenoise</code> enhancements meta-issue: <a href=https://github.com/MRtrix3/mrtrix3/issues/3023 target=_blank rel=noopener>https://github.com/MRtrix3/mrtrix3/issues/3023</a></p><h3 id=goals-for-brainhack-global>Goals for Brainhack Global</h3><ul><li><p>Primary goal: Spherical kernel</p><p>Give the command the ability to use a spherically-shaped sliding window kernel as an alternative to the current cubic kernel.</p></li><li><p>Primary goal: Noise level as input/output</p><p>Currently, the command receives as input a DWI series, produces as output a denoised DWI series, and may optionally export the estimated noise level. Would like to change this in two ways. Firstly, it should be possible to just export the estimated noise level, withholding the output DWI series. Secondly, it should be possible to take as input an estimated noise level, and denoise the input DWI series based on that pre-estimated noise level. Doing this would allow for the filtering of that noise level estimate, potentially addressing errors in the otherwise independent-per-voxel noise level estimation.</p></li><li><p>Secondary goals: Any other items in <a href=https://github.com/MRtrix3/mrtrix3/issues/3023 target=_blank rel=noopener>https://github.com/MRtrix3/mrtrix3/issues/3023</a>
that may be of interest to a participant.</p></li></ul><h3 id=good-first-issues>Good first issues</h3><p>This Project is only intended for potential contributors who already possess strong software engineering skills.</p><h3 id=communication-channels>Communication channels</h3><p>TBA</p><h3 id=skills>Skills</h3><ul><li><p>C++: requisite
As the existing <code>dwidenoise</code> command is written in C++, and the <em>MRtrix3</em> API uses advanced C++ features, existing competence with this language is a prerequisite for this Project.</p></li><li><p>Diffusion MRI: optional
While not strictly necessary, it may be beneficial to have some experience / interest in diffusion MRI to take on this task. I will however note that some of the planned improvements to <code>dwidenoise</code> actually primarily have its application to functional MRI denoising in mind.</p></li><li><p>PCA: optional
Not strictly necessary, but some baseline knowledge of what PCA is / does would be beneficial.</p></li></ul><h3 id=onboarding-documentation>Onboarding documentation</h3><p><em>MRtrix3</em> contributing documentation: <a href=https://github.com/MRtrix3/mrtrix3/blob/master/CONTRIBUTING.md target=_blank rel=noopener>https://github.com/MRtrix3/mrtrix3/blob/master/CONTRIBUTING.md</a></p><p>Note that these developments would be targeted at the &ldquo;<code>dev</code>&rdquo; development branch of <em>MRtrix3</em>. This branch has undergone substantial changes to the build system. Therefore, even if an attendee has had prior experience building <em>MRtrix3</em> from source, it will be necessary to have or build some experience with <code>cmake</code>.</p><p>MP-PCA method journal article: <a href=https://www.sciencedirect.com/science/article/pii/S1053811916303949 target=_blank rel=noopener>https://www.sciencedirect.com/science/article/pii/S1053811916303949</a></p><h3 id=what-will-participants-learn>What will participants learn?</h3><ul><li>Real-world application of advanced C++, including templating</li><li>Gain experience with the <em>MRtrix3</em> C++ API, which may be useful for other image processing development projects</li><li>Experience with PCA and the issues of rank selection</li></ul><h3 id=data-to-use>Data to use</h3><p>I will endeavour to obtain some different example data that can be used for testing. It is also common to hear complaints about inefficacy of DWI denoising, in which case it would be beneficial to obtain sample datasets from the community. Attendees may also bring their own data and see the consequences of technical enhancements to denoising performance.</p><h3 id=number-of-collaborators>Number of collaborators</h3><p>1</p><h3 id=credit-to-collaborators>Credit to collaborators</h3><p>Once commits are merged to <code>master</code> as part of a tagged release, contributors appear at the tail of the <em>MRtrix3</em> website <a href=http://mrtrix.org target=_blank rel=noopener>front page</a>
, and will receive attribution for their specific contributions as part of a changelog (<a href=https://community.mrtrix.org/t/mrtrix-3-0-4-release/6263 target=_blank rel=noopener>see example</a>
).</p><h3 id=image>Image</h3><p>Leave this text if you don&rsquo;t have an image yet.</p><h3 id=type>Type</h3><p>coding_methods, method_development</p><h3 id=development-status>Development status</h3><p>2_releases_existing</p><h3 id=topic>Topic</h3><p>diffusion, PCA</p><h3 id=tools>Tools</h3><p>MRtrix</p><h3 id=programming-language>Programming language</h3><p>C++</p><h3 id=modalities>Modalities</h3><p>DWI, fMRI</p><h3 id=git-skills>Git skills</h3><p>1_commit_push</p><h3 id=anything-else>Anything else?</h3><p>This project has a much higher barrier to entry than most Hackathon projects. It will only proceed if there exists in attendance at least one other participant with both sufficient interest in the project and competence with C++.</p><h3 id=things-to-do-after-the-project-is-submitted-and-ready-to-review>Things to do after the project is submitted and ready to review.</h3><ul><li><input disabled type=checkbox> Add a comment below the main post of your issue saying: <code>Hi @brainhackorg/project-monitors my project is ready!</code></li><li><input disabled type=checkbox> Twitter-sized summary of your project pitch.</li></ul><br><div class=row><div class=col-md-1></div><div class=col-md-10><div class=row><div class="col-12 col-md-3 pub-row-heading">Date</div><div class="col-12 col-md-9">Jan 1, 0001 12:00 AM</div></div></div><div class=col-md-1></div></div><div class="d-md-none space-below"></div><div class=space-below></div><div class=article-style></div></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/latex.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.js integrity="sha512-SeiQaaDh73yrb56sTW/RgVdi/mMqNeM2oBwubFHagc5BkixSpP1fvqF47mKzPGWYSSy4RwbBunrJBQ4Co8fRWA==" crossorigin=anonymous></script>
<script>const code_highlighting=!0</script><script src=/global2024/js/wowchemy.min.94379905cc54c87fe4e2793974c0a8d5.js></script><div class=container><footer class=site-footer><p class=powered-by>Â© Brainhack Global 2024</p><p style=width:80%;padding-left:10%>Images (and their credits) provided by <a href=https://ohbm-brainart.github.io/ target=_blank>the brain art special interest group</a>
of the <a href=https://www.humanbrainmapping.org target=_blank>organization for human brain mapping</a>
can be viewed on <a href=TODO>our gallery page</a>.</p><p class=powered-by>Adapted from the <a href=https://wowchemy.com target=_blank rel=noopener>Wowchemy</a> template.
<span class=float-right aria-hidden=true><a href=# class=back-to-top><span class=button_icon><i class="fas fa-chevron-up fa-2x"></i></span></a></span></p></footer></div><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i> Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i> Download</a><div id=modal-error></div></div></div></div></div></body></html>